(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d1b0b2b"],{"02f4":function(t,e,n){var r=n("4588"),a=n("be13");t.exports=function(t){return function(e,n){var i,o,c=String(a(e)),s=r(n),u=c.length;return s<0||s>=u?t?"":void 0:(i=c.charCodeAt(s),i<55296||i>56319||s+1===u||(o=c.charCodeAt(s+1))<56320||o>57343?t?c.charAt(s):i:t?c.slice(s,s+2):o-56320+(i-55296<<10)+65536)}}},"11e9":function(t,e,n){var r=n("52a7"),a=n("4630"),i=n("6821"),o=n("6a99"),c=n("69a8"),s=n("c69a"),u=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?u:function(t,e){if(t=i(t),e=o(e,!0),s)try{return u(t,e)}catch(n){}if(c(t,e))return a(!r.f.call(t,e),t[e])}},"1fa6":function(t,e,n){"use strict";var r=n("5dc2"),a=n.n(r);a.a},"386e":function(t,e,n){},"4f7f":function(t,e,n){"use strict";var r=n("c26b"),a=n("b39a"),i="Set";t.exports=n("e0b8")(i,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(a(this,i),t=0===t?0:t,t)}},r)},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"5dbc":function(t,e,n){var r=n("d3f4"),a=n("8b97").set;t.exports=function(t,e,n){var i,o=e.constructor;return o!==n&&"function"==typeof o&&(i=o.prototype)!==n.prototype&&r(i)&&a&&a(t,i),t}},"5dc2":function(t,e,n){},"5df3":function(t,e,n){"use strict";var r=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},"67ab":function(t,e,n){var r=n("ca5a")("meta"),a=n("d3f4"),i=n("69a8"),o=n("86cc").f,c=0,s=Object.isExtensible||function(){return!0},u=!n("79e5")(function(){return s(Object.preventExtensions({}))}),f=function(t){o(t,r,{value:{i:"O"+ ++c,w:{}}})},l=function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!s(t))return"F";if(!e)return"E";f(t)}return t[r].i},d=function(t,e){if(!i(t,r)){if(!s(t))return!0;if(!e)return!1;f(t)}return t[r].w},h=function(t){return u&&p.NEED&&s(t)&&!i(t,r)&&f(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:d,onFreeze:h}},"8b97":function(t,e,n){var r=n("d3f4"),a=n("cb7c"),i=function(t,e){if(a(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},b39a:function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},c26b:function(t,e,n){"use strict";var r=n("86cc").f,a=n("2aeb"),i=n("dcbc"),o=n("9b43"),c=n("f605"),s=n("4a59"),u=n("01f9"),f=n("d53b"),l=n("7a56"),d=n("9e1e"),h=n("67ab").fastKey,p=n("b39a"),v=d?"_s":"size",b=function(t,e){var n,r=h(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var f=t(function(t,r){c(t,f,e,"_i"),t._t=e,t._i=a(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=r&&s(r,n,t[u],t)});return i(f.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=p(this,e),r=b(n,t);if(r){var a=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=a),a&&(a.p=i),n._f==r&&(n._f=a),n._l==r&&(n._l=i),n[v]--}return!!r},forEach:function(t){p(this,e);var n,r=o(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){r(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!b(p(this,e),t)}}),d&&r(f.prototype,"size",{get:function(){return p(this,e)[v]}}),f},def:function(t,e,n){var r,a,i=b(t,e);return i?i.v=n:(t._l=i={i:a=h(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[v]++,"F"!==a&&(t._i[a]=i)),t},getEntry:b,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=p(t,e),this._k=n,this._l=void 0},function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?f(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,f(1))},n?"entries":"values",!n,!0),l(e)}}},caae:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"toolBar",attrs:{flex:"main:justify cross:center"}},[n("p",{staticStyle:{width:"70%"},attrs:{flex:"cross:center"}},[n("span",[t._v("命令输入：")]),n("el-input",{staticStyle:{width:"600px"},attrs:{placeholder:"通过输入 “ [员工缩写] [工种] [数量] ” 进行连续快速计单（之间用空格隔开）"},nativeOn:{keydown:function(e){return t.doCommand(e)}},model:{value:t.cmd,callback:function(e){t.cmd="string"===typeof e?e.trim():e},expression:"cmd"}})],1),n("p",{attrs:{flex:"cross:center"}},[n("span",{staticStyle:{"padding-right":"10px"}},[t._v("切换到"+t._s(t.ifCharts?"表格模式":"图表模式")+"：")]),n("i",{class:t.ifCharts?"el-icon-tickets":"el-icon-picture-outline",on:{click:t.switchMode}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ifCharts,expression:"ifCharts"}]},[n("div",{attrs:{id:"chart"}})]),n("el-table",{directives:[{name:"show",rawName:"v-show",value:!t.ifCharts,expression:"!ifCharts"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","max-height":600}},[n("el-table-column",{staticStyle:{"text-align":"center"},attrs:{label:"员工/工种",width:"100",prop:"name",fixed:"",align:"center"}}),t._l(t.itemList,function(e){return n("el-table-column",{key:e.name,attrs:{label:e.name,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("input",{directives:[{name:"model",rawName:"v-model",value:e.row[e.column.label],expression:"scope.row[scope.column.label]"}],staticClass:"cellInput",attrs:{type:"number"},domProps:{value:e.row[e.column.label]},on:{change:function(n){t.recordByTable(e.row.name,e.column.label,n)},focus:function(t){t.currentTarget.select()},input:function(n){n.target.composing||t.$set(e.row,e.column.label,n.target.value)}}})]}}])})})],2)],1)},a=[],i=(n("28a5"),n("7f7f"),n("20d6"),n("ac6a"),n("5df3"),n("4f7f"),n("2909")),o=n("d4ec"),c=n("bee2"),s=n("99de"),u=n("7e84"),f=n("262e"),l=(n("10cb"),n("450d"),n("f3ad")),d=n.n(l),h=(n("5466"),n("ecdf")),p=n.n(h),v=(n("38a0"),n("ad41")),b=n.n(v),m=(n("cadf"),n("551c"),n("097d"),n("9ab4")),_=n("2b0e"),y=(n("386e"),n("60a3")),w=n("2f33"),g=n("4bee"),k=n("40ba"),x=n("7c93"),C=n.n(x),E=function(){var t=new C.a.Chart({container:"chart",forceFit:!0,height:620});return t.source([]),t.coord("rect").transpose(),t.intervalStack().position("name*数量").color("工种").style({cursor:"pointer"}),t.render(),t.on("interval:click",function(t){console.log(t)}),t};_["default"].use(b.a),_["default"].use(p.a),_["default"].use(d.a);var $=function(t){function e(){var t;return Object(o["a"])(this,e),t=Object(s["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.name="Record",t}return Object(f["a"])(e,t),Object(c["a"])(e,[{key:"data",value:function(){return{itemList:[],staffList:[],tableData:[],ifCharts:!0,chart:null,cmd:""}}},{key:"mounted",value:function(){this.$data.chart=E(),this.$data.itemList=g["b"](),this.$data.staffList=g["d"](),this.freshTable()}},{key:"freshTable",value:function(){var t=this,e=g["c"]({date:new Date,unit:"day",action:"PIECE_RECORD"}),n=g["d"](),r=Object(i["a"])(new Set(e.map(function(t){return{name:t.staff}})));e.forEach(function(e){var a=n.findIndex(function(t){return t.name===e.staff}),i=r.findIndex(function(t){return t.name===e.staff});-1!==a&&(n[a][e.type]=t.$NP.plus(n[a][e.type]||0,e.num)),-1!==i&&(r[i][e.type]=t.$NP.plus(r[i][e.type]||0,e.num))});var a=(new k["View"]).source(r);a.transform({type:"fold",fields:Object(i["a"])(new Set(e.map(function(t){return t.type}))),key:"工种",value:"数量",retains:["name"]}),this.$data.chart.changeData(a.rows),this.$set(this.$data,"tableData",n)}},{key:"switchMode",value:function(){this.$data.ifCharts=!this.$data.ifCharts,this.freshTable()}},{key:"cellClick",value:function(t,e,n){this.$set(this.$data,"activeCell",{row:t.name,column:e.label,value:t.time})}},{key:"recordByTable",value:function(t,e,n){var r=this;w["b"]({type:e,num:n.target.value,staff:t}).then(function(t){return r.freshTable()}).catch(function(t){return t})}},{key:"doCommand",value:function(t){var e=this;if(13===t.keyCode){var n=this.$data.cmd.split(" ");if(3!==n.length)this.$MessageBox.alert("命令格式错误","提示");else{var r=n[0],a=n[1],i=n[2],o=this.$data.staffList.findIndex(function(t){return t.short===r});if(-1===o)this.$MessageBox.alert("您输入的员工不存在，请检查后重试","提示");else{var c=this.$data.staffList[o].name;w["d"]({type:a,num:i,staff:c}).then(function(){return e.freshTable()}).catch(function(t){return t})}}this.$set(this.$data,"cmd","")}}}]),e}(_["default"]);$=m["a"]([y["a"]],$);var O=$,S=O,j=(n("1fa6"),n("2877")),D=Object(j["a"])(S,r,a,!1,null,"2331d558",null);D.options.__file="index.vue";e["default"]=D.exports},e0b8:function(t,e,n){"use strict";var r=n("7726"),a=n("5ca1"),i=n("2aba"),o=n("dcbc"),c=n("67ab"),s=n("4a59"),u=n("f605"),f=n("d3f4"),l=n("79e5"),d=n("5cc5"),h=n("7f20"),p=n("5dbc");t.exports=function(t,e,n,v,b,m){var _=r[t],y=_,w=b?"set":"add",g=y&&y.prototype,k={},x=function(t){var e=g[t];i(g,t,"delete"==t?function(t){return!(m&&!f(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!f(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof y&&(m||g.forEach&&!l(function(){(new y).entries().next()}))){var C=new y,E=C[w](m?{}:-0,1)!=C,$=l(function(){C.has(1)}),O=d(function(t){new y(t)}),S=!m&&l(function(){var t=new y,e=5;while(e--)t[w](e,e);return!t.has(-0)});O||(y=e(function(e,n){u(e,y,t);var r=p(new _,e,y);return void 0!=n&&s(n,b,r[w],r),r}),y.prototype=g,g.constructor=y),($||S)&&(x("delete"),x("has"),b&&x("get")),(S||E)&&x(w),m&&g.clear&&delete g.clear}else y=v.getConstructor(e,t,b,w),o(y.prototype,n),c.NEED=!0;return h(y,t),k[t]=y,a(a.G+a.W+a.F*(y!=_),k),m||v.setStrong(y,t,b),y}}}]);
//# sourceMappingURL=chunk-6d1b0b2b.cb2bd9a8.js.map